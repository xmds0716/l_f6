# 视频播放速度调整说明

## 问题描述
原程序在播放视频时速度过快，需要减慢视频播放速度。

## 解决方案
我已经对代码进行了以下修改来减慢视频播放速度：

### 1. 配置文件 (config.py)
- 添加了 `VIDEO_SPEED_FACTOR` 参数
- 默认值设置为 `2.0`，表示将视频播放速度降低到原始速度的一半
- 可以通过修改此值来调整播放速度：
  - `1.0` = 正常速度
  - `2.0` = 一半速度
  - `3.0` = 三分之一速度
  - `0.5` = 两倍速度

### 2. 主程序 (main.py)
- 简化了视频速度控制逻辑
- 使用配置文件中的速度因子来控制播放延迟
- 移除了复杂的视频时间戳控制逻辑

### 3. 视频捕获模块 (video_capture.py)
- 移除了复杂的视频时间戳控制逻辑
- 简化了帧读取过程

## 使用方法

### 方法一：修改配置文件
1. 打开 `config.py` 文件
2. 找到 `VIDEO_SPEED_FACTOR` 参数
3. 修改数值：
   - 要减慢视频：设置为大于 1.0 的值（如 2.0、3.0）
   - 要加快视频：设置为小于 1.0 的值（如 0.5、0.3）
   - 正常速度：设置为 1.0

### 方法二：使用测试脚本
运行测试脚本来验证不同速度因子的效果：
```bash
python test_video_speed.py
```

### 方法三：运行主程序
使用修改后的主程序：
```bash
python main.py
```

## 技术原理
视频播放速度通过调整 `cv2.waitKey()` 的延迟时间来控制：
- 基础延迟：30 毫秒
- 实际延迟 = 基础延迟 × 速度因子
- 延迟越大，视频播放越慢

## 注意事项
1. 确保视频文件路径正确（在 config.py 中设置）
2. 如果遇到 OpenCV 安装问题，请安装完整版本：
   ```bash
   pip install opencv-python
   ```
3. 程序运行时按 'q' 键退出

## 文件修改总结
- ✅ `config.py` - 添加视频速度控制参数
- ✅ `main.py` - 简化速度控制逻辑，使用配置参数
- ✅ `video_capture.py` - 移除复杂的时间戳控制
- ✅ `test_video_speed.py` - 创建测试脚本验证功能

现在视频播放速度可以通过简单地修改 `config.py` 中的 `VIDEO_SPEED_FACTOR` 值来轻松调整。
